# ü¶â Owl Whisper API Documentation

## üìã –û–±–∑–æ—Ä

**Owl Whisper** - —ç—Ç–æ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π P2P –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Go shared library (`.so`, `.dll`, `.dylib`) –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ª—é–±—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ FFI/ctypes.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–∏—Ä–æ–≤** —á–µ—Ä–µ–∑ mDNS (–ª–æ–∫–∞–ª—å–Ω–æ) –∏ DHT (–≥–ª–æ–±–∞–ª—å–Ω–æ)
- ‚úÖ **NAT traversal** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º hole punching
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** (TCP, QUIC, WebRTC)
- ‚úÖ **–ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π** –±–µ–∑ HTTP/WebSocket
- ‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ PeerID** —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–ª—é—á–µ–π
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –Ω–∏–∫–Ω–µ–π–º–æ–≤** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–º–µ–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- ‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è 1-–Ω–∞-1** —Å –∞–¥—Ä–µ—Å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π


---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```python
import ctypes
import os

# –ü—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
lib_path = "./dist/libowlwhisper.so"  # Linux
# lib_path = "./dist/owlwhisper.dll"   # Windows  
# lib_path = "./dist/libowlwhisper.dylib"  # macOS

# –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É
owlwhisper = ctypes.CDLL(lib_path)
```

### 2. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
# –ó–∞–ø—É—Å–∫
result = owlwhisper.StartOwlWhisper()
if result == 0:
    print("‚úÖ Owl Whisper –∑–∞–ø—É—â–µ–Ω")
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ Peer ID
    peer_id = owlwhisper.GetMyPeerID()
    print(f"üë§ –ú–æ–π Peer ID: {ctypes.string_at(peer_id).decode()}")
    owlwhisper.FreeString(peer_id)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
    message = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!".encode('utf-8')
    result = owlwhisper.SendMessage(message)
    
    # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
    owlwhisper.StopOwlWhisper()
```

---

## üìö API Reference

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### `StartOwlWhisper() -> int`
–ó–∞–ø—É—Å–∫–∞–µ—Ç Owl Whisper core.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
result = owlwhisper.StartOwlWhisper()
if result == 0:
    print("‚úÖ –ó–∞–ø—É—â–µ–Ω")
else:
    print("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞")
```

#### `StopOwlWhisper() -> int`
–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Owl Whisper core.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
result = owlwhisper.StopOwlWhisper()
if result == 0:
    print("‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
```

### üí¨ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

#### `SendMessage(text: str) -> int`
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –ø–∏—Ä–∞–º (broadcast).
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `text` - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
message = "–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!".encode('utf-8')
result = owlwhisper.SendMessage(message)
```

#### `SendMessageToPeer(peer_id: str, text: str) -> int`
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–∏—Ä—É.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** 
  - `peer_id` - Peer ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è
  - `text` - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
peer_id = "12D3KooW...".encode('utf-8')
message = "–ü—Ä–∏–≤–µ—Ç!".encode('utf-8')
result = owlwhisper.SendMessageToPeer(peer_id, message)
```

### üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç–∏

#### `GetMyPeerID() -> str*`
–ü–æ–ª—É—á–∞–µ—Ç Peer ID —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** C-—Å—Ç—Ä–æ–∫—É —Å Peer ID
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä:**
```python
peer_id = owlwhisper.GetMyPeerID()
my_id = ctypes.string_at(peer_id).decode()
print(f"–ú–æ–π ID: {my_id}")
owlwhisper.FreeString(peer_id)  # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
```

#### `GetPeers() -> str*`
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–∏—Ä–æ–≤.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–º–∞—Å—Å–∏–≤ —Å Peer ID'–∞–º–∏
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä:**
```python
import json

peers_data = owlwhisper.GetPeers()
peers_json = ctypes.string_at(peers_data).decode()
peers = json.loads(peers_json)
print(f"–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –ø–∏—Ä–æ–≤: {len(peers)}")
for peer in peers:
    print(f"  - {peer}")
owlwhisper.FreeString(peers_data)  # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
```

#### `GetConnectionStatus() -> str*`
–ü–æ–ª—É—á–∞–µ—Ç –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–µ
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä:**
```python
import json

status_data = owlwhisper.GetConnectionStatus()
status_json = ctypes.string_at(status_data).decode()
status = json.loads(status_json)
print(f"–ü–æ–¥–∫–ª—é—á–µ–Ω: {status['connected']}")
print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Ä–æ–≤: {status['peers']}")
print(f"–ú–æ–π ID: {status['my_id']}")
owlwhisper.FreeString(status_data)  # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
```

### üë§ –ü—Ä–æ—Ñ–∏–ª–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### `GetMyProfile() -> str*`
–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞.
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ñ–∏–ª–µ
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä:**
```python
import json

profile_data = owlwhisper.GetMyProfile()
profile_json = ctypes.string_at(profile_data).decode()
profile = json.loads(profile_json)
print(f"–ù–∏–∫–Ω–µ–π–º: {profile['nickname']}")
print(f"–î–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä: {profile['discriminator']}")
print(f"–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è: {profile['display_name']}")
owlwhisper.FreeString(profile_data)  # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
```

#### `UpdateMyProfile(nickname: str) -> int`
–û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∏–∫–Ω–µ–π–º —Ç–µ–∫—É—â–µ–≥–æ —É–∑–ª–∞.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `nickname` - –Ω–æ–≤—ã–π –Ω–∏–∫–Ω–µ–π–º
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
nickname = "–ú–æ–π–ù–∏–∫".encode('utf-8')
result = owlwhisper.UpdateMyProfile(nickname)
if result == 0:
    print("‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω")
```

#### `GetPeerProfile(peer_id: str) -> str*`
–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–∏—Ä–∞.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `peer_id` - Peer ID –ø–∏—Ä–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ñ–∏–ª–µ –ø–∏—Ä–∞
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä:**
```python
import json

peer_id = "12D3KooW...".encode('utf-8')
profile_data = owlwhisper.GetPeerProfile(peer_id)
profile_json = ctypes.string_at(profile_data).decode()
profile = json.loads(profile_json)
print(f"–ü–∏—Ä: {profile['nickname']}{profile['discriminator']}")
owlwhisper.FreeString(profile_data)  # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
```

### üîó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

#### `ConnectToPeer(peer_id: str) -> int`
–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø–∏—Ä—É.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `peer_id` - Peer ID –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **–ü—Ä–∏–º–µ—Ä:**
```python
peer_id = "12D3KooW...".encode('utf-8')
result = owlwhisper.ConnectToPeer(peer_id)
if result == 0:
    print("‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")
```

### üìú –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

#### `GetChatHistory(peer_id: str) -> str*`
–ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–∏—Ä–æ–º.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `peer_id` - Peer ID —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–º–∞—Å—Å–∏–≤ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### `GetChatHistoryLimit(peer_id: str, limit: int) -> str*`
–ü–æ–ª—É—á–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** 
  - `peer_id` - Peer ID —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
  - `limit` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** JSON-–º–∞—Å—Å–∏–≤ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–∑–≤–∞—Ç—å `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üßπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

#### `FreeString(str_ptr: str*) -> void`
–û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å, –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –¥–ª—è —Å—Ç—Ä–æ–∫–∏.
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `str_ptr` - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä–æ–∫—É
- **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û:** –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
- **–ü—Ä–∏–º–µ—Ä:**
```python
# –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
data = owlwhisper.GetMyPeerID()

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ
print(ctypes.string_at(data).decode())

# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
owlwhisper.FreeString(data)
```

---

## üîß –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### C —Ç–∏–ø—ã
```c
typedef int C.int;
typedef char* C.char;
```

### Python —Ç–∏–ø—ã
```python
# –î–ª—è —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bytes
message = "–¢–µ–∫—Å—Ç".encode('utf-8')

# –î–ª—è —á–∏—Å–µ–ª –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ int
limit = 100
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä Python –∫–ª–∏–µ–Ω—Ç–∞

```python
import ctypes
import json
import time

# –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É
owlwhisper = ctypes.CDLL("./dist/libowlwhisper.so")

def main():
    try:
        # –ó–∞–ø—É—Å–∫–∞–µ–º
        print("üöÄ –ó–∞–ø—É—Å–∫ Owl Whisper...")
        result = owlwhisper.StartOwlWhisper()
        if result != 0:
            print("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞")
            return
        
        print("‚úÖ Owl Whisper –∑–∞–ø—É—â–µ–Ω")
        
        # –ñ–¥–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        time.sleep(3)
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å
        status_data = owlwhisper.GetConnectionStatus()
        status_json = ctypes.string_at(status_data).decode()
        status = json.loads(status_json)
        owlwhisper.FreeString(status_data)
        
        print(f"üåê –°—Ç–∞—Ç—É—Å: {status}")
        
        # –ü–æ–ª—É—á–∞–µ–º –ø–∏—Ä–æ–≤
        peers_data = owlwhisper.GetPeers()
        peers_json = ctypes.string_at(peers_data).decode()
        peers = json.loads(peers_json)
        owlwhisper.FreeString(peers_data)
        
        print(f"üë• –ü–∏—Ä—ã: {peers}")
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        if len(peers) > 0:
            message = "–ü—Ä–∏–≤–µ—Ç –æ—Ç Python!".encode('utf-8')
            result = owlwhisper.SendMessage(message)
            if result == 0:
                print("‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
        
        # –ñ–¥–µ–º
        time.sleep(2)
        
        # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
        print("üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞...")
        owlwhisper.StopOwlWhisper()
        print("‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")

if __name__ == "__main__":
    main()
```

### Node.js –ø—Ä–∏–º–µ—Ä

```javascript
const ffi = require('ffi-napi');
const ref = require('ref-napi');

// –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É
const owlwhisper = ffi.Library('./dist/libowlwhisper', {
    'StartOwlWhisper': ['int', []],
    'StopOwlWhisper': ['int', []],
    'SendMessage': ['int', ['string']],
    'GetMyPeerID': ['string', []],
    'GetPeers': ['string', []],
    'GetConnectionStatus': ['string', []],
    'FreeString': ['void', ['string']]
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = owlwhisper.StartOwlWhisper();
if (result === 0) {
    console.log('‚úÖ –ó–∞–ø—É—â–µ–Ω');
    
    const peerId = owlwhisper.GetMyPeerID();
    console.log('Peer ID:', peerId);
    owlwhisper.FreeString(peerId);
    
    owlwhisper.StopOwlWhisper();
}
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### üîí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
- **–í–°–ï–ì–î–ê** –≤—ã–∑—ã–≤–∞–π—Ç–µ `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
- –ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `FreeString()` –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏
- –í Python –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try/finally` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

### üö´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ (`StartOwlWhisper`) –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ù–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (`StopOwlWhisper`)
- Peer ID –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ libp2p –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏

### üîÑ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø–∏—Ä–∞–º, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ) –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `GetConnectionStatus()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –†–µ–≥—É–ª—è—Ä–Ω–æ –≤—ã–∑—ã–≤–∞–π—Ç–µ `GetPeers()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–∏—Ä–æ–≤

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot open shared object file"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export LD_LIBRARY_PATH=./dist:$LD_LIBRARY_PATH  # Linux
export DYLD_LIBRARY_PATH=./dist:$DYLD_LIBRARY_PATH  # macOS
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Segmentation fault"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç–µ `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –ø–∏—Ä–æ–≤
- **–ò–°–ü–†–ê–í–õ–ï–ù–û:** –¢–µ–ø–µ—Ä—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∏—Ä–æ–≤ –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (mDNS, DHT, TCP, QUIC)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—à–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–∏—Ä–æ–≤ (–æ–±—ã—á–Ω–æ 2-5 —Å–µ–∫—É–Ω–¥)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à —É–∑–µ–ª —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ bootstrap —É–∑–ª–∞–º

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
dist/
‚îú‚îÄ‚îÄ libowlwhisper.so      # Linux shared library
‚îú‚îÄ‚îÄ owlwhisper.dll        # Windows shared library  
‚îú‚îÄ‚îÄ libowlwhisper.dylib   # macOS shared library
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–∞–º

examples/
‚îî‚îÄ‚îÄ python_client.py      # –ü—Ä–∏–º–µ—Ä Python –∫–ª–∏–µ–Ω—Ç–∞

internal/core/
‚îú‚îÄ‚îÄ c_wrapper.go          # C –æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îî‚îÄ‚îÄ owlwhisper.h          # C –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
```

---

## üîó –°—Å—ã–ª–∫–∏

- **libp2p:** https://libp2p.io/
- **Go CGo:** https://golang.org/cmd/cgo/
- **Python ctypes:** https://docs.python.org/3/library/ctypes.html
- **Node.js ffi-napi:** https://github.com/node-ffi-napi/node-ffi-napi

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Go core (–≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç–µ `FreeString()` –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–π
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—à–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–∏—Ä–æ–≤

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 21 –∞–≤–≥—É—Å—Ç–∞ 2025